<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Connections" href="connections.html" /><link rel="prev" title="Projects" href="projects.html" />

    <link rel="shortcut icon" href="../_static/favicon.ico"/><meta name="generator" content="sphinx-3.5.4, furo 2021.06.18.beta36"/>
        <title>Tasks - Extract Management 2.0</title>
      <link rel="stylesheet" href="../_static/styles/furo.css?digest=9b17055c4366e8b2949c66d6a9d8b0efe4dbaa60">
    <link rel="stylesheet" href="../_static/pygments.css">
    


<style>
  :root {
    --color-code-background: #ffffff;
  --color-code-foreground: black;
  
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }

  /* For allowing end-user-specific overrides */
  .override-light {
    --color-code-background: #ffffff;
  --color-code-foreground: black;
  
  }
  .override-dark {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
</style><link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link media="(prefers-color-scheme: dark)" rel="stylesheet" href="../_static/pygments_dark.css">
    <link rel="stylesheet" href="../_static/styles/furo-extensions.css?digest=ee12cdd73c4bbac24afec78d92c4afd7c2d8ea7f"></head>
  <body dir="">
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z"/>
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Extract Management 2.0</div></a>
    </div>
    <div class="header-right">
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/icon-512x512.png" alt="Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="../search.html">
  <input class="sidebar-search" placeholder=Search name="q">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview.html">About the App</a></li>
<li class="toctree-l1"><a class="reference internal" href="dash.html">Dash</a></li>
<li class="toctree-l1"><a class="reference internal" href="projects.html">Projects</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="connections.html">Connections</a></li>
<li class="toctree-l1"><a class="reference internal" href="admin.html">Admin</a></li>
</ul>
<p class="caption"><span class="caption-text">Configuration</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="configuration/index.html">Setting Up EM2</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label for="toctree-checkbox-1"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="configuration/installation.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration/auth.html">Authentication</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="development/index.html">Development</a></li>
</ul>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="updates/index.html">Releases</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label for="toctree-checkbox-2"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="updates/changelog.html">Changelog</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../autoapi/index.html">API Reference</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label for="toctree-checkbox-3"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../autoapi/em_web/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_web</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label for="toctree-checkbox-4"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../autoapi/em_web/web/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_web.web</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label for="toctree-checkbox-5"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../autoapi/em_web/web/admin/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_web.web.admin</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../autoapi/em_web/web/assets/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_web.web.assets</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../autoapi/em_web/web/auth/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_web.web.auth</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../autoapi/em_web/web/connection/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_web.web.connection</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../autoapi/em_web/web/dashboard/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_web.web.dashboard</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../autoapi/em_web/web/executors/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_web.web.executors</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../autoapi/em_web/web/filters/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_web.web.filters</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../autoapi/em_web/web/project/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_web.web.project</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../autoapi/em_web/web/saml_auth/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_web.web.saml_auth</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../autoapi/em_web/web/table/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_web.web.table</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../autoapi/em_web/web/task/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_web.web.task</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../autoapi/em_web/cli/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_web.cli</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../autoapi/em_web/extensions/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_web.extensions</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../autoapi/em_web/model/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_web.model</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../autoapi/em_web/seed/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_web.seed</span></code></a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../autoapi/em_scheduler/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_scheduler</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label for="toctree-checkbox-6"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../autoapi/em_scheduler/events/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_scheduler.events</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../autoapi/em_scheduler/extensions/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_scheduler.extensions</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../autoapi/em_scheduler/functions/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_scheduler.functions</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../autoapi/em_scheduler/maintenance/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_scheduler.maintenance</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../autoapi/em_scheduler/model/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_scheduler.model</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../autoapi/em_scheduler/web/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_scheduler.web</span></code></a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../autoapi/em_runner/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_runner</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label for="toctree-checkbox-7"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../autoapi/em_runner/scripts/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_runner.scripts</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label for="toctree-checkbox-8"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../autoapi/em_runner/scripts/em_cmd/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_runner.scripts.em_cmd</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../autoapi/em_runner/scripts/em_code/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_runner.scripts.em_code</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../autoapi/em_runner/scripts/em_date/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_runner.scripts.em_date</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../autoapi/em_runner/scripts/em_file/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_runner.scripts.em_file</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../autoapi/em_runner/scripts/em_ftp/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_runner.scripts.em_ftp</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../autoapi/em_runner/scripts/em_params/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_runner.scripts.em_params</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../autoapi/em_runner/scripts/em_postgres/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_runner.scripts.em_postgres</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../autoapi/em_runner/scripts/em_python/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_runner.scripts.em_python</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../autoapi/em_runner/scripts/em_sftp/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_runner.scripts.em_sftp</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../autoapi/em_runner/scripts/em_smb/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_runner.scripts.em_smb</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../autoapi/em_runner/scripts/em_smtp/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_runner.scripts.em_smtp</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../autoapi/em_runner/scripts/em_sqlserver/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_runner.scripts.em_sqlserver</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../autoapi/em_runner/scripts/em_ssh/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_runner.scripts.em_ssh</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../autoapi/em_runner/scripts/em_system/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_runner.scripts.em_system</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../autoapi/em_runner/scripts/runner/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_runner.scripts.runner</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../autoapi/em_runner/scripts/smb_fix/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_runner.scripts.smb_fix</span></code></a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../autoapi/em_runner/web/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_runner.web</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label for="toctree-checkbox-9"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../autoapi/em_runner/web/filters/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_runner.web.filters</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../autoapi/em_runner/web/web/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_runner.web.web</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../autoapi/em_runner/extensions/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_runner.extensions</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../autoapi/em_runner/model/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">em_runner.model</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <main class="main">
    <div class="content">
      <article role="main">
        <label class="toc-overlay-icon toc-content-icon" for="__toc">
          <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
        </label>
        <div class="section" id="tasks">
<h1>Tasks<a class="headerlink" href="#tasks" title="Permalink to this headline">¶</a></h1>
<p>A task is child to a project and contains the details of the job to be run. A typical task will run a sql query, format the results with a delimiter and then upload the file into a SFTP server.</p>
<p>Tasks include three primary pages:</p>
<ul class="simple">
<li><p>All Tasks. This loads a paginated table of all tasks along with a name cloud of task owners (owners come from the project level), and also a name cloud of the associated projects.</p></li>
<li><p>My Tasks. This loads a paginated table of all tasks along with a name cloud of the associated projects.</p></li>
<li><p>Task Details. Summary page of all the task details, a few controls, and the run history.</p></li>
<li><p>New Task. The page to create or edit tasks.</p></li>
</ul>
<img alt="Task List" src="../_images/em2-task.png"/>
<div class="section" id="task-details">
<span id="id1"></span><h2>Task Details<a class="headerlink" href="#task-details" title="Permalink to this headline">¶</a></h2>
<p>From the task details a task can be</p>
<ul class="simple">
<li><p>Deleted</p></li>
<li><p>Edited</p></li>
<li><p>Run Now</p></li>
<li><p>Rescheduled. This option will remove any existing schedules from the Scheduler API and recreate them.</p></li>
<li><p>Duplicated. This option will clone the job in a disabled state.</p></li>
<li><p>Cancel Retry. If the task has failed and and retry has been scheduled the user can click here to prevent the retries. This option cannot be clicked while task is running.</p></li>
</ul>
<img alt="Task Details" src="../_images/em2-task-header.png"/>
<p>Following this most task details are listed along with a log, and a listing of historical file outputs.</p>
<p>The history files can be downloaded or resent to the <em>current</em> destination.</p>
</div>
<div class="section" id="new-task">
<span id="task-new"></span><h2>New Task<a class="headerlink" href="#new-task" title="Permalink to this headline">¶</a></h2>
<p>There are many options for creating new tasks!</p>
<div class="section" id="retries">
<h3>Retries<a class="headerlink" href="#retries" title="Permalink to this headline">¶</a></h3>
<p>If a task has a non-catastrophic failure, meaning that the app is still running and the error has been logged, we have the option to attempt multiple retries. This is especially useful when uploading files into SFTP’s where you cannot control the upload speeds etc, and may be subject to upload errors.</p>
<p>In cases like this it is advisable to allow the task to rerun.</p>
</div>
<div class="section" id="run-rank">
<h3>Run Rank<a class="headerlink" href="#run-rank" title="Permalink to this headline">¶</a></h3>
<p>Run Rank determines which order the tasks will be run in, only if the project is set to run tasks in series.</p>
</div>
<div class="section" id="data-sources">
<h3>Data Sources<a class="headerlink" href="#data-sources" title="Permalink to this headline">¶</a></h3>
<p>Most of the data source/ destination options are fairly consistent through all the option groups.</p>
<p>Data sources must first be created in the <a class="reference internal" href="connections.html#connections"><span class="std std-ref">Connections</span></a>.</p>
<div class="section" id="database">
<h4>Database<a class="headerlink" href="#database" title="Permalink to this headline">¶</a></h4>
<p>A source organization and database can be selected.</p>
<p>The option “Include Query Headers” will include/exclude column headings from the output.</p>
<p>A query location must be chosen. The query can be loaded from SFTP, FTP, SMB, Gitlab, WebURl (for example, github + access token), or can be entered directly into EM2.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Queries will be modified at runtime. A preview of the modifications is available on the Task Details page. For example, “using” statements are not allowed in ODBC, so tables must be fully qualified, or a db specified in the connection. EM2 will automatically remove unauthorized statements in SQL queries.</p>
</div>
<p>Query Parameters can be added. These will override what is set at the project level and will follow the same format. See <a class="reference internal" href="projects.html#project-parameters"><span class="std std-ref">Parameters</span></a></p>
<p>SQL Server queries will do a row count as the queries run and will log the current row count to the task log.</p>
</div>
<div class="section" id="ftp-sftp-smb">
<h4>FTP/SFTP/SMB<a class="headerlink" href="#ftp-sftp-smb" title="Permalink to this headline">¶</a></h4>
<p>These data source options allow a remote file to be loaded and sent to a destination. This is a nice option if a file must be reformatted.</p>
<p>For example a csv can be loaded and changed to a pipe delimited file.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>wildcards can be used in filenames. For example: “*this.csv” will match “and_this.csv”. Use with caution as only a single file will be loaded even if there are multiple matches.</p>
</div>
</div>
<div class="section" id="python-script">
<h4>Python Script<a class="headerlink" href="#python-script" title="Permalink to this headline">¶</a></h4>
<p>While a python script can be run as an add-on to any data source (through <a class="reference internal" href="#processing-script">Processing Script</a>), if you only wish to run a python script and not have any other data source you can choose this option.</p>
</div>
<div class="section" id="ssh">
<h4>SSH<a class="headerlink" href="#ssh" title="Permalink to this headline">¶</a></h4>
<p>If you only need to schedule a command to run on a remote server this is the option to use.</p>
<p>It will attempt to connect to a remote server through SSH and run whatever command you specify.</p>
<p>The commands can be loaded from an exteral script (through SFTP, FTP, SMB, Gitlab or web url), or internally through the code editor.</p>
</div>
</div>
<div class="section" id="processing-script">
<h3>Processing Script<a class="headerlink" href="#processing-script" title="Permalink to this headline">¶</a></h3>
<p>Data from the source is passed into a local file and can be modified with a python script.</p>
<p>Also, if you choose <a class="reference internal" href="#python-script">Python Script</a> you can run a python script without input.</p>
<p>If there is a data source selected it will be passed into your python script as parameter 1.</p>
<p>A script like this will pick up that file.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">input_file</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<p>All processing scripts are run in their own environment and dependencies are automatically installed as needed.</p>
<p>The Processing Script can be loaded from a multitude of places. You can load a multi file package and choose what file to run as well.</p>
</div>
<div class="section" id="data-destination">
<h3>Data Destination<a class="headerlink" href="#data-destination" title="Permalink to this headline">¶</a></h3>
<p>Once data is gather is can be sent out!</p>
<p>First set the output file type and name. The file name can use python type data parameters. They also support additional manipulations that are not part of the standard python syntax.</p>
<p>For example, if you want to include the day yesterday in your filename you can do</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">nice_name_yesterday_</span><span class="o">%</span><span class="n">d</span><span class="o">-</span><span class="mf">1.</span><span class="n">csv</span>
</pre></div>
</div>
<p>The ‘%d-1’ will parse out to the day number yesterday.</p>
<p>Parameters from project/task parameters can also be used. For example, if you have a parameter <cite>#year=parse(%Y)</cite>, you can add that to the filename as</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">current_year_</span><span class="c1">#year.csv</span>
</pre></div>
</div>
<p>and the #year value will be updated with the current year value.</p>
<p>If needed, the file can be sent inside a zip folder.</p>
<p>Additional characters can be appended to each line in the file.</p>
</div>
<div class="section" id="file-encryption">
<h3>File Encryption<a class="headerlink" href="#file-encryption" title="Permalink to this headline">¶</a></h3>
<p>Files can be encrypted using a gpg key. Check the box to run encryption on and pick the encryption key from the dropdown.</p>
<p>Filenames will be preserved and “.gpg” appended to the current extension. Files will be encrypted before zipping if the zip option is selected.</p>
</div>
<div class="section" id="md5-hash">
<h3>md5 Hash<a class="headerlink" href="#md5-hash" title="Permalink to this headline">¶</a></h3>
<p>After creating the file, and optionally encrypting the file, a md5 hash of the file is created and save along with the file name, file size, etc, for future file verification.</p>
<div class="section" id="sftp-smb-ftp">
<h4>SFTP/SMB/FTP<a class="headerlink" href="#sftp-smb-ftp" title="Permalink to this headline">¶</a></h4>
<p>The output file can be loaded into an existing connection.</p>
<p>There is an option to attempt to replace existing files with the same name, however this option is also set on the SFTP server level and may conflict.</p>
</div>
<div class="section" id="email">
<h4>Email<a class="headerlink" href="#email" title="Permalink to this headline">¶</a></h4>
<p>Getting a success/failure email from the extract can be useful. You have the option to attach or embed the output file to the email as well. Use with caution if you are querying sensitive data, or have a file that may exceed or email size limit.</p>
<p>Finally,</p>
<p>There is an option to enable the task immediately. If this is checked then the task will be picked up an run next time the project is triggered by the Scheduler API.</p>
</div>
</div>
</div>
</div>

      </article>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="connections.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Connections</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="projects.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Projects</div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 2020, Riverside Healthcare
            |
            Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
              and
              <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
              <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            |
            <a class="muted-link" href="../_sources/em/tasks.rst.txt"
               rel="nofollow">
              Show Source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Tasks</a><ul>
<li><a class="reference internal" href="#task-details">Task Details</a></li>
<li><a class="reference internal" href="#new-task">New Task</a><ul>
<li><a class="reference internal" href="#retries">Retries</a></li>
<li><a class="reference internal" href="#run-rank">Run Rank</a></li>
<li><a class="reference internal" href="#data-sources">Data Sources</a><ul>
<li><a class="reference internal" href="#database">Database</a></li>
<li><a class="reference internal" href="#ftp-sftp-smb">FTP/SFTP/SMB</a></li>
<li><a class="reference internal" href="#python-script">Python Script</a></li>
<li><a class="reference internal" href="#ssh">SSH</a></li>
</ul>
</li>
<li><a class="reference internal" href="#processing-script">Processing Script</a></li>
<li><a class="reference internal" href="#data-destination">Data Destination</a></li>
<li><a class="reference internal" href="#file-encryption">File Encryption</a></li>
<li><a class="reference internal" href="#md5-hash">md5 Hash</a><ul>
<li><a class="reference internal" href="#sftp-smb-ftp">SFTP/SMB/FTP</a></li>
<li><a class="reference internal" href="#email">Email</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </main>
</div>
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/tabs.js"></script>
    <script src="../_static/scripts/main.js?digest=e931d09b2a40c1bb82b542effe772014573baf67"></script></body>
</html>